<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <meta name="author" content="Vipul" date="30/04/2024">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="display">
            <h1 id="date">
                <script>
                    const d = new Date();
                    const year = d.getFullYear();
                    const month = d.getUTCMonth() + 1;
                    const day = d.getDate();
                    const date = day.toString() + '-' + month.toString() + '-' + year.toString();
                    document.write(date);
                </script>
            </h1>
        </div>
    <input class="inp" placeholder="0" type="text" name="" id="display" disabled>
        <div class="digits">
            <div class="row">
                <button class="btn gray" onclick="clearDisplay()">AC</button>
                <button class="btn gray" onclick="removeLast()">&larr;</button>
                <button class="btn gray"  onclick="addToDisplay('%')">%</button>
                <button class="btn orange"  onclick="addToDisplay('/')">รท</button>
            </div>
            <div class="row">
                <button class="btn"  onclick="addToDisplay('7')">7</button>
                <button class="btn"  onclick="addToDisplay('8')">8</button>
                <button class="btn"  onclick="addToDisplay('9')">9</button>
                <button class="btn orange"  onclick="addToDisplay('*')">x</button>
            </div>
            <div class="row">
                <button class="btn"  onclick="addToDisplay('4')">4</button>
                <button class="btn " onclick="addToDisplay('5')">5</button>
                <button class="btn" onclick="addToDisplay('6')">6</button>
                <button class="btn orange" onclick="addToDisplay('-')">-</button>
            </div>
            <div class="row">
                <button class="btn"  onclick="addToDisplay('1')">1</button>
                <button class="btn"  onclick="addToDisplay('2')">2</button>
                <button class="btn"  onclick="addToDisplay('3')">3</button>
                <button class="btn orange"  onclick="addToDisplay('+')">+</button>
            </div>
            <div class="row">
                <button class="zero-btn"  onclick="addToDisplay('0')">0</button>
                <button class="btn"  onclick="addToDisplay('.')">.</button>
                <button class="btn orange " id="equal" onclick="calculate()">=</button>
            </div>
        </div>
    </div>

    <footer>Copyright 2024 &copy; Vipul</footer>
</body>

<script>
    function addToDisplay(value) {
        document.getElementById('display').value += value;
    }

    function clearDisplay() {
        document.getElementById('display').value = '';
    }

    function removeLast(){
        let x = document.getElementById('display').value;

        let y = x.slice(0,x.length-1);
        document.getElementById('display').value = y;

    }

    function calculate() {
        try {
            let result = eval(document.getElementById('display').value);
            document.getElementById('display').value = result;
        } catch (error) {
            document.getElementById('display').value = 'Error';
        }
    }


    document.addEventListener('keydown', function(event) {
        const key = event.key;
        const validKeys = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '.', '/', '*', '-', '+', 'Enter', '=', 'Backspace', 'Delete'];
        if (validKeys.includes(key)) {
            if (key === 'Enter' || key === '=') {
                calculate();
            } else if (key === 'Backspace' || key === 'Delete') {
                // clearDisplay();
                removeLast();
            } else {
                addToDisplay(key);
            }
        } 
    });
</script>

</html>